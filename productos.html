<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>MundoGolos칤n</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header>
  <a href="inicio.html">
    <img src="imagenes/Logo3.png" alt="Logo MundoGolos칤n" class="logo">
  </a>
  <nav>
    <a href="productos.html" class="activo">Productos</a>
    <a href="contacto.html">Cont치ctanos</a>
    <a href="nosotros.html">Sobre Nosotros</a>
    <a href="inicioSesion.html">Iniciar Sesi칩n</a>
    <a href="registrarse.html">Registrarse</a>
    <span id="saludo-usuario"></span>
    <button id="btn-cerrar-sesion" style="display: none;">Cerrar sesi칩n</button>
  </nav>
</header>

<main>
  <section class="productos" id="lista-productos">
    <!-- Los productos se insertan din치micamente aqu칤 -->
  </section>
</main>

<aside class="carrito">
  <h2>Carrito</h2>
  <p>Haz clic para ver tu carrito completo</p>
  <a href="carrito.html">
    <button>Ver carrito</button>
  </a>
</aside>

<footer>
  <p>&copy; 2025 MundoGolos칤n. Todos los derechos reservados.</p>
</footer>

<!-- Carga de datos y l칩gica -->
<script src="javascript/productosData.js"></script>
<script src="javascript/script.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  // Mostrar saludo si hay sesi칩n activa
  const usuarioActivo = JSON.parse(localStorage.getItem("usuarioActivo"));
  if (usuarioActivo) {
    const saludo = document.getElementById("saludo-usuario");
    saludo.textContent = `游녦 Hola, ${usuarioActivo.nombre}`;
    saludo.style.marginLeft = "10px";
    saludo.style.fontWeight = "bold";

    const cerrarBtn = document.getElementById("btn-cerrar-sesion");
    cerrarBtn.style.display = "inline-block";
    cerrarBtn.onclick = function () {
      localStorage.removeItem("usuarioActivo");
      alert("Sesi칩n cerrada");
      window.location.href = "inicio.html";
    };
  }

  // Mostrar productos desde localStorage
  const contenedor = document.getElementById("lista-productos");
  const productos = JSON.parse(localStorage.getItem("productos")) || [];

  productos.forEach(p => {
    const div = document.createElement("div");
    div.className = "producto";
    div.innerHTML = `
      <img src="${p.imagen}" alt="${p.nombre}">
      <h3>${p.nombre}</h3>
      <p>Precio: $${p.precio}</p>
      <p>Stock: <span id="stock-${p.id}">${p.stock}</span></p>
      <button onclick="agregarAlCarrito('${p.nombre}', ${p.precio}, ${p.id})">Agregar al carrito</button>
    `;
    contenedor.appendChild(div);
  });
});
</script>

</body>
</html>
